---
layout: post
title:  "How A/B test can evaluate book recommendation "
description: Consider you have a book recommendation and wanna luch this on your business. How can you evaluate this system? One way is A/B testing. Regardless of any metric related to model accuracy.
date: 2024-01-04
---

# How A/B test can evaluate book recommendation
**Scenario**: Consider, that you work in a company that uses a recommendation system for their website. now they wanna improve their recommendation system and find out how well it works. Aprouch could be in various side. but for now, I want to focuse on besiness side and try to solve to problem by A/B tesi.  
A/B test is aprouch for find out how much a treatment can inluence on group without paying attention  to other factors.

To soving the problem we should consider this phase:
1. Problem statement
2. Hypothesis testing
3. Design the experiment
4. Run the experiment
5. Validity check
6. Interpret result
7. Make decision



## Problem statement
At first, I should state the problem as well to understand how what should to measured as success. so if the recommendation system is applied to a clothing website, customer needs to see relevant clothes based on their interests. and this can boost revenue sales in the end. so selecting revenue sales as metrics can be suitable. for findng success metrics to measure, knowing user journey is important. So the best metric for measing is **Revenue per user per day**.


## Hypothesis testing
Now, it is time to state the hypothesis. as you know hypothesis statement contains to part. null hypothesis and alternate hypothesis. and here a hypothesis statement can be written like this:
- **H0**: Average revenue per day between the baseline and ranking algorithms are the same.
- **Ha**: Average revenue per day between the baseline and ranking algorithms are different.

Also, parameters significant level, statistical power, and minimum detectable effect (MDE) should be specified.
- **Significant level**: 0.05
- **Statistical power**: 0.8
- **Minimum detectable effect**: 0.01  


## Design the Experiment
In this pahse I specify users who search a prodcut (based user funnle journey) for selecting in sample goroup. Also my sample size calculated based below formula and the expriment conduct for 1-2 week. It's really important than duration of the experiment should be long cause it can have heavy costs. 
**Sample size**: $$ \frac{(16 \times std^2)}{\delta^2} $$  
wich $$ \delta = $$ difference between the control and treatment group. 

## Run the experiment
It's time to run the experiment. In the duration of experiment we should not peeking p-value at all.

## Validity check
There is some issues we should consider after conducting the experiment. for example some factors like holidays, competition, economics or disruption like covid can affect on the experiment. Also, we can spouse maybe the proportions of the groups are not the same or maybe our groups are different in some factors we did not consider. for answering this question  chi-square test and A/A tets can help us. Moreover, segement experiment for new user and old user is essential. cause new user have not any aexperiment from our product.

## Make decision
At the end, we can decide by p-value that new recommendation system has significant effect or not. But there is some issue. 
- maybe we have more than one metrics to measure and one of them improve significantly but the other not.
- spouse we found out significant effect. Is cost of launching reasonable?