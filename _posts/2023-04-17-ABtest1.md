---
layout: post
title:  "How A/B test can evaluate book recommendation "
description: Consider you have a book recommendation and wanna luch this on your business. How can you evaluate this system? One way is A/B testing. Regardless of any metric related to model accuracy.
date: 2024-01-04
---

# How A/B test can evaluate book recommendation
**Scenario**: Consider, that you work in a company that uses a recommendation system for their website. now they wanna improve their recommendation system and find out how well it works. Aprouch could be on various sides. but for now, I want to focus on the business side and try to solve to problem by A/B tesi.  
A/B test is an approach for finding out how much treatment can influence the group without paying attention  to other factors.

To solve the problem we should consider this phase:
1. Problem statement
2. Hypothesis testing
3. Design the experiment
4. Run the experiment
5. Validity check
6. Interpret result
7. Make a decision



## Problem statement
At first, I should state the problem as well to understand how what should to measured as success. so if the recommendation system is applied to a clothing website, customer needs to see relevant clothes based on their interests. and this can boost revenue sales in the end. so selecting revenue sales as metrics can be suitable. for finding success metrics to measure, knowing the user journey is important. So the best metric for measuring is **Revenue per user per day**.


## Hypothesis testing
Now, it is time to state the hypothesis. As you know hypothesis statement contains two parts. null hypothesis and alternate hypothesis. and here a hypothesis statement can be written like this:
- **H0**: Average revenue per day between the baseline and ranking algorithms are the same.
- **Ha**: Average revenue per day between the baseline and ranking algorithms are different.

Also, parameters of significant level, statistical power, and minimum detectable effect (MDE) should be specified.
- **Significant level**: 0.05
- **Statistical power**: 0.8
- **Minimum detectable effect**: 0.01  


## Design the Experiment
In this phase, I specify users who search for a product (based on the user funnel journey) for selection in the sample group. Also, my sample size was calculated based on a formula and the experiment was conducted for 1-2 weeks. The duration of the experiment must not be long cause it can have heavy costs. 
**Sample size**: $$ \frac{(16 \times std^2)}{\delta^2} $$  
wich $$ \delta = $$ difference between the control and treatment group. 

## Run the experiment
It's time to run the experiment. In the duration of the experiment, we should not be peeking p-value at all.

## Validity check
There are some issues we should consider after experimenting. for example, some factors like holidays, competition, economics or disruption like COVID-19 can affect the experiment. Also, we can spouse maybe the proportions of the groups are not the same or maybe our groups are different in some factors we did not consider. To answer this question  chi-square test and A/A tets can help us. Moreover, segmenting experiments for new users and old users is essential. cause new users have not had any experiments with our product.

## Make decision
In the end, we can decide by p-value whether the new recommendation system has a significant effect or not. But there is some issue. 
- maybe we have more than one metric to measure and one of them improves significantly but the other does not.
- spouse we found out significant effect. Is the cost of launching reasonable?
